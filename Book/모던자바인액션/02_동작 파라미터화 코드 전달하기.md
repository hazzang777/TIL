# λ™μ‘ νλΌλ―Έν„°ν™” μ½”λ“ μ „λ‹¬ν•κΈ°

μ†λΉ„μ μ”κµ¬λ” ν•­μƒ λ°”λ€λ‹¤.

λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ€ μ†ν”„νΈμ›¨μ–΄ μ—”μ§€λ‹μ–΄λ§μ—μ„ ν”Όν• μ μ—†λ” λ¬Έμ 

μ°λ¦¬μ μ—”μ§€λ‹μ–΄λ§μ μΈ λΉ„μ©μ΄ κ°€μ¥ μµμ†ν™”λ  μ μμΌλ©΄ μΆ‹μ„ κ²ƒ

κ·ΈλΏ μ•„λ‹λΌ μƒλ΅ μ¶”κ°€ν• κΈ°λ¥μ€ μ‰½κ² κµ¬ν„ν•  μ μμ–΄μ•Ό ν•λ©° μ¥κΈ°μ μΈ κ΄€μ μ—μ„ μ μ§€λ³΄μκ°€ μ‰¬μ›μ•Όν•¨

`λ™μ‘ νλΌλ―Έν„°ν™”` λ¥Ό μ΄μ©ν•λ©΄ μμ£Ό λ°”λ€λ” μ”κµ¬μ‚¬ν•­μ— μ‰½κ² λ€μ‘ κ°€λ¥

β†’ μ•„μ§μ€ μ–΄λ–»κ² μ‹¤ν–‰ν•  κ²ƒμΈμ§€ κ²°μ •ν•μ§€ μ•μ€ μ½”λ“ λΈ”λ΅μ„ μλ―Έ

β†’ μ¦‰, μ½”λ“ λΈ”λ΅μ μ‹¤ν–‰μ€ λ‚μ¤‘μΌλ΅ λ―Έλ¤„μ§

μλ¥Ό λ“¤μ–΄ μ»¬λ ‰μ…μ„ μ²λ¦¬ν•  λ• λ‹¤μκ³Ό κ°™μ€ λ©”μ„λ“λ¥Ό κµ¬ν„ν•λ‹¤κ³  κ°€μ •ν•΄λ³΄μ.

- λ¦¬μ¤νΈμ λ¨λ“  μ”μ†μ— λ€ν•΄μ„ `μ–΄λ–¤ λ™μ‘` μ„ μν–‰ν•  μ μμ
- λ¦¬μ¤νΈ κ΄€λ ¨ μ‘μ—…μ„ λλ‚Έ λ‹¤μμ— `μ–΄λ–¤ λ‹¤λ¥Έ λ™μ‘` μ„ μν–‰ν•  μ μμ
- μ—λ¬κ°€ λ°μƒν•λ©΄ `μ •ν•΄μ§„ μ–΄λ–¤ λ‹¤λ¥Έ λ™μ‘` μ„ μν–‰ν•  μ μμ

β†’ `λ™μ‘ νλΌλ―Έν„°ν™”` λ΅ λ‹¤μ–‘ν• κΈ°λ¥μ„ μν–‰ν•  μ μμ

## λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— λ€μ‘ν•κΈ°

### λ…Ήμƒ‰ μ‚¬κ³Ό ν•„ν„°λ§

```java
public static List<Apple> filterGreenApples(List<Apple> inventory) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (Color.GREEN.equals(apple.getColor())) {
                result.add(apple);
            }
        }
        return result;
    }
```

π§±Β μ—¬κΈ°μ„ λΉ¨κ°„ μ‚¬κ³Όλ„ ν•„ν„°λ§ ν•κ³  μ‹¶λ‹¤λ©΄ μ–΄λ–»κ² κ³ μ³μ•Ό ν• κΉ?

`κ±°μ λΉ„μ·ν• μ½”λ“κ°€ λ°λ³µ μ΅΄μ¬ν•λ‹¤λ©΄ κ·Έ μ½”λ“λ¥Ό μ¶”μƒν™”ν•λ‹¤`

### μƒ‰μ„ νλΌλ―Έν„°ν™”

π§±Β μ–΄λ–»κ² ν•΄μ•Ό filterGreenApplesμ μ½”λ“λ¥Ό λ°λ³µ μ‚¬μ©ν•μ§€ μ•κ³  filterRedApplesλ¥Ό κµ¬ν„ν•  μ μμ„κΉ?

```java
public static List<Apple> filterApplesByColor(List<Apple> inventory, Color color) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (apple.getColor().equals(color)) {
                result.add(apple);
            }
        }
        return result;
    }
```

β†’ Color colorλ¥Ό μ¶”κ°€ν•΄μ£Όμ—λ‹¤.

μ—¬κΈ°μ„ λ†λ¶€κ°€ `μƒ‰ μ΄μ™Έμ—λ„ κ°€λ²Όμ΄ μ‚¬κ³Όμ™€ λ¬΄κ±°μ΄ μ‚¬κ³Όλ΅ κµ¬λ¶„ν•κ³  μ‹¶λ‹¤` λΌκ³  ν•λ‹¤

```java
public static List<Apple> filterApplesByWeight(List<Apple> inventory, int weight) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (apple.getWeight() > weight) {
                result.add(apple);
            }
        }
        return result;
    }
```

β†’ μ΄ λ°©λ²•λ„ μΆ‹μ€ λ°©λ²•μ΄κΈ΄ ν•μ§€λ§ κµ¬ν„ μ½”λ“λ¥Ό μμ„Έν λ³΄λ©΄ λ©λ΅μ„ κ²€μƒ‰ν•κ³ , κ° μ‚¬κ³Όμ— ν•„ν„°λ§ μ΅°κ±΄μ„ μ μ©ν•λ” λ¶€λ¶„μ μ½”λ“κ°€ μƒ‰ ν•„ν„°λ§ μ½”λ“μ™€ λ€λ¶€λ¶„ μ¤‘λ³µλλ‹¤.

- μ΄κ²ƒμ€ μ†ν”„νΈμ›¨μ–΄ κ³µν•™μ `DRY` (κ°™μ€ κ²ƒμ„ λ°λ³µν•μ§€ λ§κ²ƒ) μ›μΉ™μ„ μ–΄κΈ°λ” κ²ƒ

### κ°€λ¥ν• λ¨λ“  μ†μ„±μΌλ΅ ν•„ν„°λ§

```java
public static List<Apple> filterApples(
            List<Apple> inventory, 
            Color color, 
            int weight, 
            boolean flag) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if ((flag && apple.getColor().equals(color)) ||
                    (!flag && apple.getWeight() > weight)) {
                result.add(apple);
            }
        }
        return result;
    }
```

β†’ λ§λ¥μ—λ„ λ¶κµ¬ν•κ³  λ¨λ“  μ†μ„±μ„ λ©”μ„λ“ νλΌλ―Έν„°λ΅ μ¶”κ°€ν• λ¨μµ

β†’ ν•νΈμ—†λ” μ½”λ“μ΄λ‹¤.

- μ”κµ¬μ‚¬ν•­μ— μ μ—°ν•κ² λ€μ‘ν•  μλ„ μ—†λ‹¤.
- μ”κµ¬μ‚¬ν•­μ΄ λμ–΄λ‚ μλ΅ κ±°λ€ν• ν•λ‚μ ν•„ν„° λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤.

β†’ μ΄λ΄λ• ν•„μ”ν• κ²ƒμ΄ `λ™μ‘ νλΌλ―Έν„°ν™”` λ¥Ό μ΄μ©ν•΄μ„ μ μ—°μ„±μ„ μ–»λ” λ°©λ²•μ„ μ„¤λ…ν•κ² λ‹¤.

## λ™μ‘ νλΌλ―Έν„°ν™”

μ°Έ λλ” κ±°μ§“μ„ λ°ν™ν•λ” ν•¨μλ¥Ό `ν”„λ λ””μΌ€μ΄νΈ` λΌκ³  ν•λ‹¤.

β†’ `μ„ νƒ μ΅°κ±΄μ„ κ²°μ •ν•λ” μΈν„°νμ΄μ¤` λ¥Ό μ •μν•μ

```java
public interface ApplePredicate {
    boolean test(Apple apple);
}
```

```java
public class AppleHeavyWeightPredicate implements ApplePredicate {
    @Override
    public boolean test(Apple apple) {
        return apple.getWeight() > 150;
    }
}
```

```java
public class AppleGreenColorPredicate implements ApplePredicate {
    @Override
    public boolean test(Apple apple) {
        return Color.GREEN.equals(apple.getColor());
    }
}
```

μ„ μ΅°κ±΄μ— λ”°λΌ filter λ©”μ„λ“κ°€ λ‹¤λ¥΄κ² λ™μ‘ν•  κ²ƒμ΄λΌκ³  μμƒ κ°€λ¥ β†’ `μ „λµ λ””μμΈ ν¨ν„΄` 

μ „λµ λ””μμΈ ν¨ν„΄: κ° μ•κ³ λ¦¬μ¦ (μ „λµμ΄λΌ λ¶λ¦¬λ”) μ„ μΊ΅μν™”ν•λ” μ•κ³ λ¦¬μ¦ ν¨λ°€λ¦¬λ¥Ό μ •μν•΄λ‘” λ‹¤μμ— λ°νƒ€μ„μ— μ•κ³ λ¦¬μ¦μ„ μ„ νƒν•λ” κΈ°λ²•

μμ λ΅λ” ApplePredicateκ°€ `μ•κ³ λ¦¬μ¦ ν¨λ°€λ¦¬`μ΄κ³  μ € λ°‘μ— ν•μ„ ν΄λμ¤λ“¤μ΄ `μ „λµ`μ΄λ‹¤.

μ—¬κΈ°μ„ κΈ°μ΅΄ μ½”λ“λ¥Ό μ–΄λ–»κ² λ°”κΏ€ μ μμ„κΉ?

filterApplesμ—μ„ ApplePredicate κ°μ²΄λ¥Ό λ°›μ•„ μ• ν”μ μ΅°κ±΄μ„ κ²€μ‚¬ν•λ„λ΅ λ©”μ„λ“λ¥Ό κ³ μ³μ•Ό ν•¨

<aside>
π’΅ μ΄λ ‡κ² λ™μ‘ νλΌλ―Έν„°ν™”, μ¦‰ λ©”μ„λ“κ°€ λ‹¤μ–‘ν• λ™μ‘μ„ λ°›μ•„μ„ λ‚΄λ¶€μ μΌλ΅ λ‹¤μ–‘ν• λ™μ‘μ„ μν–‰ν•  μ μλ‹¤.

</aside>

### μ¶”μƒμ  μ΅°κ±΄μΌλ΅ ν•„ν„°λ§

```java
public static List<Apple> filterApples(
            List<Apple> inventory,
            ApplePredicate p) {
        List<Apple> result = new ArrayList<>();
        for (Apple apple : inventory) {
            if (p.test(apple)) { 
                result.add(apple);
            }
        }
        return result;
    }
```

β†’ ν”„λ λ””μΌ€μ΄νΈ κ°μ²΄λ΅ μ‚¬κ³Ό κ²€μ‚¬ μ΅°κ±΄μ„ μΊ΅μν™” ν–λ‹¤.

***μ½”λ“/λ™μ‘ μ „λ‹¬ν•κΈ°***

μ²« λ²μ§Έ μ½”λ“μ— λΉ„ν•΄ λ” μ μ—°ν• μ½”λ“λ¥Ό μ–»μ—λ‹¤. (κ°€λ…μ„±κ³Ό μ‚¬μ©ν•κΈ° μ‰¬μ›μ§)

πΈΒ μ—¬κΈ°μ„ λ†λ¶€κ°€ λ¬΄κ²κ°€ 150μ΄ λ„κ³  λΉ¨κ°„ μ‚¬κ³Όλ¥Ό κ²€μƒ‰ν•΄λ‹¬λΌκ³  λ¶€νƒν•λ©΄ μ°λ¦¬λ” κ·Έμ— λ§κ² ApplePredicateλ¥Ό μ μ ν•κ² κµ¬ν„ν•λ” ν΄λμ¤λ§ λ§λ“¤λ©΄ λλ‹¤.

```java
public class AppleRedAndHeavyPredicate implements ApplePredicate {
    @Override
    public boolean test(Apple apple) {
        return Color.RED.equals(apple.getColor()) 
                && apple.getWeight() > 150;
    }
}
```

μ‚¬μ©ν•  λ•

```java
filterApples(inventory, new AppleRedAndHeavyPredicate());
```

β†’ μ΄μ  μ°λ¦¬κ°€ μ „λ‹¬ν• ApplePredicate κ°μ²΄μ— μν•΄ filterApples λ©”μ„λ“μ λ™μ‘μ΄ κ²°μ •λλ‹¤.

β†’ μ¦‰, μ°λ¦¬λ” filterApples λ©”μ„λ“μ λ„μ‘μ„ νλΌλ―Έν„°ν™” ν• κ²ƒμ΄λ‹¤.

***ν• κ°μ νλΌλ―Έν„°, λ‹¤μ–‘ν• λ™μ‘***

β†’ μ»¬λ ‰μ… νƒμƒ‰ λ΅μ§κ³Ό κ° ν•­λ©μ— μ μ©ν•  λ™μ‘μ„ λ¶„λ¦¬ν•  μ μλ‹¤λ” κ²ƒμ΄ `λ™μ‘ νλΌλ―Έν„°ν™”` μ κ°•μ 

μ§€κΈκΉμ§€ μ—¬λ¬ ν΄λμ¤λ¥Ό κµ¬ν„ν•΄μ„ μΈμ¤ν„΄μ¤ν™”ν•λ” κ³Όμ •μ΄ μ΅°κΈμ€ κ±°μ¶”μ¥μ¤λ½κ² λκ»΄μ§ μ μλ‹¤.

β†’ μ΄ λ¶€λ¶„μ„ κ°μ„ ν•΄λ³΄μ

## λ³µμ΅ν• κ³Όμ • κ°„μ†ν™”

ν„μ¬ filterApples λ©”μ„λ“λ΅ μƒλ΅μ΄ λ™μ‘μ„ μ „λ‹¬ν•λ ¤λ©΄ ApplePredicate μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” μ—¬λ¬ ν΄λμ¤λ¥Ό μ •μν• λ‹¤μμ— μΈμ¤ν„΄μ¤ν™” ν•΄μ•Όν•λ‹¤. β†’ λ²κ±°λ΅­κ³  μ‹κ°„λ‚­λΉ„μ΄λ‹¤.

π¤ Β μ—¬κΈ°μ„ μλ°”λ” ν΄λμ¤μ μ„ μ–Έκ³Ό μΈμ¤ν„΄μ¤ν™”λ¥Ό λ™μ‹μ— μν–‰ν•  μ μλ„λ΅ `μµλ… ν΄λμ¤` λΌλ” κΈ°λ²•μ„ μ κ³µ

### μµλ… ν΄λμ¤

`μµλ… ν΄λμ¤` λ” μλ°”μ μ§€μ—­ ν΄λμ¤μ™€ λΉ„μ·ν• κ°λ…μ΄λ‹¤.

- λ§ κ·Έλ€λ΅ μ΄λ¦„μ΄ μ—†λ” ν΄λμ¤
- ν΄λμ¤ μ„ μ–Έκ³Ό μΈμ¤ν„΄μ¤ν™”λ¥Ό λ™μ‹μ— ν•  μ μλ‹¤.
- μ¦‰, μ¦‰μ„μ—μ„ ν•„μ”ν• κµ¬ν„μ„ λ§λ“¤μ–΄μ„ μ‚¬μ©ν•  μ μλ‹¤.

### μµλ… ν΄λμ¤ μ‚¬μ©

```java
List<Apple> redApples = filterApples2(inventory, new ApplePredicate() {
            @Override
            public boolean test(Apple apple) {
                return Color.RED.equals(apple.getColor());
            }
        });
```

μµλ… ν΄λμ¤μ λ¶€μ΅±ν• μ 

- μµλ… ν΄λμ¤λ” μ—¬μ „ν λ§μ€ κ³µκ°„μ„ μ°¨μ§€ν•λ‹¤.
- λ§μ€ ν”„λ΅κ·Έλλ¨Έκ°€ μµλ… ν΄λμ¤μ μ‚¬μ©μ— μµμ™ν•μ§€ μ•λ‹¤.

μ½”λ“μ μ¥ν™©ν•¨μ€ λ‚μ νΉμ„±μ΄λ‹¤.

<aside>
π’΅ ν•λμ— μ΄ν•΄ν•  μ μμ–΄μ•Ό μΆ‹μ€ μ½”λ“μ΄λ‹¤.

</aside>

μλ°” 8μ—μ„λ” `λλ‹¤ ν‘ν„μ‹`μ΄λΌλ” λ” κ°„λ‹¨ν• μ½”λ“ μ „λ‹¬ κΈ°λ²•μ„ λ„μ…ν•΄μ„ μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν–μ„ λ³΄κ² λ  κ²ƒ

### λλ‹¤ ν‘ν„μ‹ μ‚¬μ©

```java
filterApples3(inventory, (Apple apple) -> Color.GREEN.equals(apple.getColor()));
```

β†’ μ΄μ „ μ½”λ“λ³΄λ‹¤ ν›¨μ”¬ κ°„λ‹¨ν•΄μ΅λ‹¤!

### λ¦¬μ¤νΈ ν•μ‹μΌλ΅ μ¶”μƒν™”

```java
public static <T> List<T> filter(List<T> list, Predicate<T> p){
        List<T> result = new ArrayList<>();
        for (T t : list) {
            if (p.test(t)) {
                result.add(t);
            }
        }
        return result;
    }
```

β†’ `μ΄λ ‡κ² μ¶”μƒν™”λ¥Ό ν•λ‹¤λ©΄ μ–΄λ–¤ κ³ΌμΌμ΄λ“  λ¦¬μ¤νΈμ—μ„ ν•„ν„°λ©”μ„λ“λ¥Ό μ μ©ν•  μ μλ‹¤.`

```java
filter(inventory, (Apple a) -> a.getWeight() > 150);
```

## μ •λ¦¬

- λ™μ‘ νλΌλ―Έν„°ν™”κ°€ λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— μ‰½κ² μ μ‘ν•λ” μ μ©ν• ν¨ν„΄μ΄λ‹¤.
    - ν• μ΅°κ°μ μ½”λ“λ΅ μΊ΅μν™”ν• λ‹¤μμ— λ©”μ„λ“λ΅ μ „λ‹¬ν•΄μ„ λ©”μ„λ“μ λ™μ‘μ„ νλΌλ―Έν„°ν™” ν•λ‹¤.
- μ‹¤μ „ μμ 

 λ†λ¶€κ°€ λ¬΄κ²λ¥Ό κΈ°μ¤€μΌλ΅ λ©λ΅μ—μ„ μ‚¬κ³Όλ¥Ό μ •λ ¬ν•κ³  μ‹¶λ‹¤λ©΄?

```java
public interface Comparator<T> {
	int compare(T o1, T o2);
}
```

`java.util.Comparator` κ°μ²΄λ¥Ό μ΄μ©ν•΄μ„ sortμ λ™μ‘μ„ νλΌλ―Έν„°ν™” ν•  μ μλ‹¤.

```java
inventory.sort((Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight()));
```

- λ™μ‘ νλΌλ―Έν„°ν™”μ—μ„λ” λ©”μ„λ“ λ‚΄λ¶€μ μΌλ΅ λ‹¤μ–‘ν• λ™μ‘μ„ μν–‰ν•  μ μλ„λ΅ μ½”λ“λ¥Ό λ©”μ„λ“ μΈμλ΅ μ „λ‹¬
- λ™μ‘ νλΌλ―Έν„°ν™”λ¥Ό μ‚¬μ©ν•λ©΄ λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— λ” μ λ€μ‘ν•  μ μλ” μ½”λ“λ¥Ό κµ¬ν„ν•  μ μμΌλ©° μ—”μ§€λ‹μ–΄λ§ λΉ„μ©μ„ μ¤„μΌ μ μμ
- μ½”λ“ μ „λ‹¬ κΈ°λ²•μ„ μ΄μ©ν•λ©΄ λ™μ‘μ„ λ©”μ„λ“μ μΈμλ΅ μ „λ‹¬ν•  μ μλ‹¤. μλ°” 8μ—μ„λ” μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›μ•„ μ—¬λ¬ ν΄λμ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ” μκ³ λ¥Ό μ—†μ•¨ μ μλ” λ°©λ²•μ„ μ κ³µν•λ‹¤. (λλ‹¤)
- μλ°” APIμ λ§μ€ λ©”μ„λ“λ” μ •λ ¬, μ¤λ λ“, GUI μ²λ¦¬ λ“±μ„ ν¬ν•¨ν• λ‹¤μ–‘ν• λ™μ‘μΌλ΅ νλΌλ―Έν„°ν™” ν•  μ μλ‹¤.

Reference:  
[λ¨λμλ°”μΈμ•΅μ…](http://www.yes24.com/Product/Goods/77125987)