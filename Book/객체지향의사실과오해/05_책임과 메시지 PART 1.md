# 책임과 메시지 PART 1

<aside>
💡 의도는 “메시징”이다.  
휼륭하고 성장 가능한 시스템을 만들기 위한 핵심은 모듈 내부의 속성과 행동이 어떤가보다는
모듈이 어떻게 커뮤니케이션하는가에 달려있다.
                                   - 엘런 케이

</aside>

## 인트로

```
한 실험이 있었다.
각 방에 참가자를 놔두고 참가자 본인을 제외한 다른 학생들의 목소리는 미리 녹음된 내용을 재생 한다.
처음 발표한 학생은 간질을 앓는 학생이었다.
도시 생활에 대한 어려움에 관한 이야기가 흘러나오고 있었고 몇 분뒤 간질 발작이 시작된 것이다.
녹음기에서는 괴로워 하는 학생이 목소리와 함꼐 도와 달라고 한다.

실험 결과, 대다수의 학생들은 아무런 행동도 취하지 않았다.

하지만 자신만 그 간질을 앓는 학생의 요청을 받는 상황에서는 대다수의 학생들이 도움을 요청했다.
```

🥲이걸 보면 알수 있듯이 실험 참가자들의 반응과 집단 크기 사이에 밀접한 관계가 있음을 발견

→ 이러한 현상을 책임감 분산

→ 목격자가 많으면 많을수록 개인이 느끼는 책임감은 적어진다는 것이다.

- FINAL
    - 명확한 책임과 역할을 지닌 참가자들이 협력에 참여해야 한다는 것
    - 객체의 세계에서도 마찬가지!
    - 휼륭한 객체지향의 세계는 명확하게 정의된 역할과 책임을 지닌 객체들이 상호 협력하는 세계
    

## 자율적인 책임

### 설계의 품질을 좌우하는 책임

객체지향 공동체를 구성하는 기본 단위는 `자율적인` 객체!

→ 핵심적인 키워드는 `자율성` 

- 자율성
    - 자기 스스로의 원칙에 따라 어떤 일을 하거나 자신을 통제해서 절제하는 성질이나 특성
- 자율적인 객체
    - 스스로 정한 원칙에 따라 판단하고 스스로의 의지를 기반으로 행동하는 객체
- 책임
    - 요청을 처리하기 위해 객체가 수행하는 행동
    

객체지향 애플리케이션을 설계하는 가장 널리 알려진 방법 → `책임-주도 설계` 

→ 적절한 책임의 선택이 전체 설계의 방향을 결정하기 때문

- FLOW
    - 적절한 책임 → 자율적인 객체를 만듬 → 객체들이 모여 → 유연하고 단순한 협력을 낳음
    

### 자신의 의지에 따라 증언할 수 있는 자유

<aside>
💡 객체가 책임을 자율적으로 수행하기 위해서는 객체에게 할당하는 책임이 자율적이여야 한다.

</aside>

- In 이상한 나라의 앨리스
- 첫 번째 협력
    
![Untitled](https://user-images.githubusercontent.com/68279162/170625115-f939eeb6-c604-458d-8ee2-424dd4d8b5e4.png)    

  왕은 모자 장수에게 `증언하라` 는 요청을 하며 모자 장수는 재판이라는 협력에 참여하기 위해 적절하게 응답해야함.

이때 핵심은 왕은 모자 장수가 어떻게 증언하는지에 대해서는 신경을 쓰지 않는다.

→ 책임을 완수할 수만 있다면

왕이 모자 장수에게 더 세세하게 요청을 한다면?

- 두 번째 협력

![Untitled 1](https://user-images.githubusercontent.com/68279162/170625183-b617a083-ec5e-46ff-9d4e-56f3e6851c38.png)

이와 같은 협력의 경우 모자 장수는

1. 목격했던 장면을 떠올려라
2. 시간 순서대로 재구성을 하라
3. 간결하게 말로 표현하라

이 순서대로 차례대로 처리해야 하는 책임을 지고 있다.

<aside>
💡 여기서는 문제가 있다.

</aside>

- 먼저, 지나치게 자유의 범위를 지나치게 제한한다는 점
- 자율적으로 책임을 수행할 수가 없다. → 왕의 명령에 의존할 수밖에 없다.
- 첫 번째의 경우 `증언하라` 자율성을 충분히 보장할 수 있을 정도로 포괄적이고 추상적이면서도 모자 장수가 해야 할 일을 명확하게 지시하고 있다.
- 두 번째의 경우 상세한 수준의 책임들은 모자 장수의 자율성을 제한한다.

### 너무 추상적인 책임

<aside>
💡 포괄적이고 추상적인 책임을 선택한다고 해서 무조건 좋은 것은 아님

</aside>

- `설명하라` 일 경우

![Untitled 2](https://user-images.githubusercontent.com/68279162/170625310-3c7686bf-bcef-4738-8e49-7d0469964777.png)

- 이렇게 `설명하라` 라고 요청을 하는 경우
    - 모자 장수는 무엇을 설명해야 하는가?
    - 자신의 일생에 대해 설명을 해야 하는가?

→ 협력의 의도를 명확하게 표현하지 못함

- 추상적이고 포괄적인 책임은 협력을 좀 더 다양한 환경에서 재사용할 수 있도록 유연성이라는 장점을 가져다줌

<aside>
💡 그러나 책임은 협력에 참여하는 의도를 명확하게 설명할 수 있는 수준 안에서 추상적이어야 한다.

</aside>

### `어떻게` 가 아니라 `무엇` 을

자율적인 책임의 특징

- `어떻게` 가 아니라 `무엇` 을 해야 하는가를 설명함

- 예
    - 증언하라 → 무엇을 해야하는 것을 결정
    - 목격했던… / 시간 순서대로…./ 말로 간결….
        - 어떻게 해야 하는지를 설명한다.
        - 이러한 경우 어떻게 증언할 것인지가 책임의 수준에서 어느 정도 결정돼 있음
        - 그래서 모자 장수가 선택할 수 있는 부분은 제한됨

### 책임을 자극하는 메시지

책임은 어떤 행동을 수행한다는 의미가 담겨있다.

객체가 자신에게 할당된 책임을 수행하도록 만드는 것은 → 외부에서 전달되는 요청

우리는 이 요청을 `메시지` 라고 부른다.

<aside>
💡 메시지는 객체로 하여금 자신의 책임, 즉 행동을 수행하게 만드는 유일한 방법

</aside>

## 메시지와 메서드

### 메시지

객체의 행동을 유발하는 행위 → `메시지-전송` 

: 객체가 다른 객체에 접근할 수 있는 유일한 방법

- In 이상한 나라의 앨리스
    - 왕이 모자 장수에게 전송하는 메시지를 가리키는 `증언하라` 는 `메시지 이름`
        - 메시지를 전송할 때 추가적인 정보 필요한 경우 → `인자` 를 통해 추가 정보 제공
        - 수신자는 `인자` 를 사용할 수 있다. → 메시지 요청을 처리하기 위해
        - 예를 들어 왕이 모자 장수에게 요청할 때 부가적으로 특정 장소와 시간에 관련하여 증언하라고 요청을 한다면?
            - 증언하라(어제, 왕국)
- 메시지 전송 → 수신자 + 메시지
    - 메시지 → 메시지 이름 + 인자

 💪🏻결국 메시지 전송 → 수신자 + 메시지 이름 + 인자

- 왕이 모자장수에게 `증언하라` 메시지 예)
    - 모자장수.증언하라(어제, 왕국)
    - 모자장수 → 수신자
    - 증언하라 → 메시지 이름
    - 어제, 왕국 → 인자
    
- 메시지를 수신받는 객체
    - 해당 메시지를 자신이 처리할 수 있는지 확인
        1. 메시지를 처리할 수 있다는 것은 객체는 해당 메시지에 대한 행동을 수행해야하는 책임을 가짐을 의미
        2. 메시지 개념은 책임의 개념과 연결
        3. 메시지의 모양이 객체가 수행할 책임의 모양을 결정
        
- POINT
    - 메시지를 전송하는 송신자는 메시지를 받아 처리하는 수신자의 책임을 수행하는 방법은 전혀 알지 못함
        - 이것은 객체의 외부와 내부가 메시지를 기준으로 가리게된다는 것을 의미함
        - 객체가 제공하는 메시지는 공개된 영역에 속함
        - 메시지를 처리하기 위해 책임을 수행하는 방법은 외부에서 볼 수 없는 사적인 영역에 속함
        
- SUMMARY
    - 메시지는 객체들의 유일한 의사소통 수단
    - 객체가 메시지를 수신한다는 것은 → 메시지에 해당하는 책임을 수행 할 수 있는 것을 의미
    - 객체는 메시지를 처리하기 위한 방법을 자율적으로 선택함
    - 객체는 메시지에 관해서만 볼 수 있고 내부는 볼 수 없음

### 메서드

<aside>
💡 메시지를 처리하기 위해 선택할 수 있는 방법

</aside>

→ 한 객체가 메시지를 수신한다면 처리하기 위해 내부적으로 선택하는 방법을 `메서드` 라고 한다.

💪🏻FLOW

1. 객체는 메시지를 수신할 시 먼저 해당 메시지를 처리할 수 있는지 확인한다.
2. 메시지를 처리할 수 있다고 판단되면 책임을 수행하기 위해 메시지를 처리하는 방법인 `메서드`를 선택하게 된다.

→ 어떤 객체에게 메시지를 전송하면 메시지에 대응되는 특정 메서드가 실행된다.

- FINAL
    - 메시지는 `어떻게` 수행될 것인지는 명시 하지 않음.
        - `무엇` 이 실행되기를 바라는지만 명시
        - 어떤 메서드를 선택할지는 수신자의 몫

 

<aside>
💡 메시지를 수신한 객체가 실행 시간에 메서드를 선택할 수 있다는 사실은 객체지향의 핵심 특징

</aside>
