# CH01.협력하는 객체들의 공동체

## INTRO

- 객체지향 소프트웨어는 실세계의 투영
    - 객체란 현실 세계에 존재하는 사물에 대한 `추상화`

→ 실세계의 모방이라는 개념은 객체지향의 기반을 이루는 철학적인 개념을 설명하는데는 `적합`

→ `그러나` 유용하고 실용적인 관점에서 `객체지향 분석`, `설계`를 설명하기에는 `적합X` 

🚩  객체는 실세계 모방이 아니라 새로운 세계를 창조하는 것!

- 객체를 `자율적인 존재`라고 비유한다면 상태와 행위를 `캡슐화` 하는 소프트웨어의 `자율성` 을 설명하는데 효과적

```
가정)

아침에 카페를 들린다.
캐시어가 손님에 어떤 음료를 주문하실건지 묻는다.
손님은 아메리카노 한잔 주문을 한다.
캐시어는 바리스타에게 아메리카노 한잔 주문들어온것을 알린다.
바리스타는 아메리카노 한잔 제조를 한다.
완성 후 캐시어는 손님에게 커피가 나왔다고 알린다.
손님은 커피를 챙기고 카페를 나간다.
```

- 모든 과정 속에서 손님, 캐시어, 바리스타 사이의 암묵적인 `협력` 관계가 존재
- 손님, 캐시어, 바리스타는 `협력`하는 과정에서 서로 `역할`에 대한 `책임` 을 다한다.

😃  위 가정에서 객체지향에서 가장 중요한 개념 세 가지를 이미 이해했다. 바로 `역할` `책임` `협력` !

- 일반적으로 하나의 문제를 해결하기 위해 다수의 사람 혹은 역할이 필요
    - 그래서 한 사람에 대한 `요청`이 또 다른 사람에 대한 `요청`을 유발하는 것이 일반적
- 요청을 받은 사람은 다른 사람에 요청에 `응답`한다.

😎   `요청`과 `응답`을 통해 다른 사람과 `협력`할 수 있는 능력은 거대하고 복잡한 문제를 해결할 수 있는 공동체를 형성하게 만든다.

## 역할과 책임

- 사람들은 다른 사람들과 협력하는 과정속에서 특정 `역할`을 부여받음
    - 역할 : 어떤 협력에 참여하는 특정한 사람이 협력 안에서 차지하는 `책임`이나 의무를 의미
    - 역할이라는 단어는 의미적으로 책임이라는 개념을 내포

  → `협력`에 참여하며 특정한 `역할`을 수행하는 사람들은 `역할`에 적합한 `책임`을 수행

<aside>
💡 중요개념

</aside>

1. 여러 사람이 동일한 역할을 수행 가능
    1. 손님 입장에서는 어떤 캐시어가 주문을 받는지는 중요 X
2. 역할은 대체 가능성을 의미
    1. 손님 입장에서는 캐시어는 `대체 가능`하다.
3. 책임을 수행하는 방법은 자율적으로 선택 가능
    1. 바리스타는 자신만의 독특한 방법으로 커피를 제조할 수 있다.
    2. 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력 → `다형성`
4. 한 사람이 동시에 여러역할 수행 가능
    1. 한 사람이 캐시어와 바리스타 역할 동시에 수행하는 것도 가능하다.
    

## 역할, 책임, 협력

- 앞에서의 설명으로부터 단어를 바꿔보자.
    - 사람 → 객체
    - 요청 → 메시지
    - 요청을 처리하는 방법 → 메서드

   → 이렇게 바꾼다면 객체지향이라는 문맥으로 옮길수 있다.

😍  협력의 핵심은 특정한 책임을 수행하는 역할들 간의 연쇄적인 요청과 응답을 통해 목표를 달성한다는 것.

여기서 객체지향 설계라는 예술은 적절한 객체에게 적절한 책임을 할당하는 것에서 시작

- `역할`은 `관련성 높은 책임`의 집합!
- `역할`은 `유연`하고 `재사용 가능한` `협력 관계`를 구축하는 데 중요한 설계 요소
- `대체 가능한` 역할과 책임은 객체지향 패러다임의 중요한 기반을 제공하는 `다형성`과 깊이 연관

## 협력속에 사는 객체

- 객체의 두가지 덕목
    - 객체는 충분히 `협력적` 이여야 한다.
        - 다른 객체의 명령에 복종하는 것이 아니라 요청에 응답할 뿐
    - 객체는 `자율적`이여야 한다.
        - 자기 스스로의 원칙에 따라 어떤 일을 하거나 자기 스스로를 통제하여 절제하는 것

→ 객체들은 공동의 목표를 달성하기 위해 `협력`에 참여하지만 스스로의 `결정과 판단에 따라 행동하는 자율적인 존재`

## 상태와 행동을 함께 지닌 자율적인 객체

- 객체
    - `상태`와 `행동`을 지닌 실체
    - 객체가 협력에 참여하기 위해 어떤 행동을 해야 한다면 그 `행동`을 하는데 `필요한 상태`도 함께 지니고 있어야 한다는 것을 의미
- 객체의 자율성은 객체의 내부와 외부를 명확하게 구분하는 것으로 시작!
    - 객체의 `사적인 부분`은 객체 스스로 관리 및 `외부`에서 `간섭못하도록 차단`
    - 외부에서는 객체가 접근 허락한 수단으로만 의사소통 해야함
    - 객체는 다른 객체가 `무엇`을 수행하는지는 `알 수 있지만` `어떻게` 수행하는지에 대해서는 `알수 없음`
- 객체의 관점에서 자율성이란
    - 자신의 `상태`를 `직접 관리`하고 상태를 기반으로 `스스로 판단하고 행동`할 수 있음을 의미

## 협력과 메시지

- 인간들의 세계와는 달리 객체지향의 세계에서는 오직 한 가지 의사소통 수단만이 존재
    - `메시지`
- 협력이란 2가지로 구성
    - 메시지를 전송하는 객체 → `송신자`
    - 메시지를 수신하는 개체 → `수신자`

## 메서드와 자율성

- 객체가 수신된 메시지를 처리하는 방법 → `메서드`
- 어떤 객체가 메시지를 전송하면 결과적으로 메시지에 대응하는 메서드 실행
- `메시지와 메서드의 분리`는 객체의 협력에 참여하는 객체들 간의 자율성을 증진
    - 커피를 주문하는 협력과정 속에서 바리스타는 커피제조를 요청 받음
        - 수작업으로 커피 제조 가능
        - 커피머신으로 커피제조 가능
            - 커피 제조 요청 → 메시지
            - 커피 제조하는 구체적인 방법 → 메서드

  → 외부의 요청이 `무엇인지를 표현하는 메시지와 요청을 처리하기 위한 구체적인 방법인 메서드를 분리`하는 것은    객체의 자율성을 높이는 핵심 메커니즘 → `캡슐화`와 깊이 연관

## 객체지향의 본질

1. 객체지향이란 시스템을 상호작용하는 `자율적인 객체들의 공동체`로 바라보고 객체를 이용해 시스템을 분할하는 방법
2. 자율적인 객체란 `상태`와 `행위`를 함께 지니며 스스로 자기 자신을 책임지는 객체
3. 객체는 시스템의 행위를 구현하기 위해 다른 객체와 `협력`한다. 협력 내에서 정해진 `역할`을 수행
4. 객체는 다른 객체와 협력하기 위해 `메시지`를 전송하고, 메시지를 수신한 객체는 메시지를 처리하는데 적합한 `메서드`를 자율적으로 선택

## 객체를 지향하라

1. 코드를 담는 클래스 관점에서 `메시지를 주고받는 객체의 관점`으로 사고의 중심을 전환
    1. 어떤 객체들이 어떤 메시지를 주고받으며 협력하는 것
    2. 클래스는 도구에 불과
2. 적절한 `책임`을 수행하는 `역할` 간의 `유연하고 견고한 협력 관계`를 구축하는 것
    1. 객체의 역할, 책임, 협력에 집중
    2. 객체지향은 `객체`를 `지향`하는 것

Reference : 
 [객체지향의 사실과 오해](http://www.yes24.com/Product/Goods/18249021)    