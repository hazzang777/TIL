# íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´

ë°±ê¸°ì„ ë‹˜ì˜ `ì½”ë“œë¡œ í•™ìŠµí•˜ëŠ” GoFì˜ ë””ìì¸íŒ¨í„´`   
ê°•ì˜ë¥¼ í•™ìŠµí•˜ë©° ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.  
ê¸€ ë°‘ì— `ê°•ì˜ë§í¬` ìˆìŠµë‹ˆë‹¤.

## íŒ¨í„´ ì†Œê°œ

- ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì±…ì„ì„ ì¶”ìƒì ì¸ ì¸í„°í˜ì´ìŠ¤ì— ë©”ì„œë“œë¡œ ê°ì‹¼ë‹¤.
    - ì„œë¸Œí´ë˜ìŠ¤ê°€ êµ¬ì²´ì ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì •í•œë‹¤.
- ë‹¤ì–‘í•œ êµ¬í˜„ì²´(Product)ê°€ ìˆê³ , ê·¸ì¤‘ì—ì„œ íŠ¹ì •í•œ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ íŒ©í† ë¦¬(Creator)ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŒ

![Untitled](https://user-images.githubusercontent.com/68279162/175785621-8ab69b43-705a-48ea-8646-ee079a84a66d.png)


- Factory ì—­í• ì„ í•˜ëŠ” Creator
- ConcreateCreator êµ¬ì²´ì ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤.
- ProductëŠ” íŒ©í† ë¦¬ì—ì„œ ë§Œë“¤ ì¸ìŠ¤í„´ìŠ¤ì˜ íƒ€ì…ë“¤ì„ ê°€ì§€ê³  ìˆìŒ

## êµ¬í˜„ ë°©ë²•

ë³€ê²½ì—ëŠ” ë‹«í˜€ìˆê³  í™•ì¥ì—ëŠ” ì—´ë ¤ìˆì–´ì•¼ í•œë‹¤. (OCP)

![Untitled 1](https://user-images.githubusercontent.com/68279162/175785627-dab5572e-8fe7-4db7-93fa-052e002abcaf.png)
ã„´

ShipFactory

```java
public interface ShipFactory {
    default Ship orderShip(String name, String email){
        validate(name, email);
        prepareFor(name);
        Ship ship = createShip();
        sendEmailTo(email, ship);
        return ship;
    }

    Ship createShip();

    private void validate(String name, String email) {
        if (name == null || name.isBlank()) {
            throw new IllegalArgumentException("ì´ë¦„ì„ ì§€ì–´ì£¼ì„¸ìš”");
        }

        if (email == null || email.isBlank()) {
            throw new IllegalArgumentException("ì´ë©”ì¼ì„ ë‚¨ê²¨ì£¼ì„¸ìš”");
        }
    }

    private void prepareFor(String name) {
        System.out.println(name + " ì¤€ë¹„ ì¤‘");
    }

    private void sendEmailTo(String email, Ship ship) {
        System.out.println(ship.getName() + " ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.");
    }
}
```

WhiteShipFactory

```java
public class WhiteShipFactory implements ShipFactory {
    /**
     * ì¶”ê°€ì ìœ¼ë¡œ WhiteShipì— ê´€ë ¨ëœ ë¡œì§ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
     * @return
     */
    @Override
    public Ship createShip() {
        return new WhiteShip();
    }
}
```

Ship

```java
public class Ship {
    private String name;

    private String color;

    private String logo;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getColor() {
        return color;
    }

    public void setColor(String color) {
        this.color = color;
    }

    public String getLogo() {
        return logo;
    }

    public void setLogo(String logo) {
        this.logo = logo;
    }
}
```

WhiteShip

```java
public class WhiteShip extends Ship{
    public WhiteShip() {
        setName("whiteShip");
        setLogo("whiteLogo");
        setColor("white");
    }
}
```

Customer

```java
public class Customer {
    public static void main(String[] args) {
        Ship whiteShip = new WhiteShipFactory().orderShip("hardy", "test@mail.com");
    }
}
```

<aside>
ğŸ’¡ ì—¬ê¸°ì„œ ìƒˆë¡œìš´ ë°° ìœ í˜•ì„ í•˜ë‚˜ ë” ëŠ˜ë¦°ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?

</aside>

BlackShip

```java
public class BlackShip extends Ship{

    public BlackShip() {
        setName("blackShip");
        setLogo("blackLogo");
        setColor("black");
    }
}
```

BlackShipFactory

```java
public class BlackShipFactory implements ShipFactory {
    @Override
    public Ship createShip() {
        return new BlackShip();
    }
}
```

â†’ í•˜ì§€ë§Œ Customer ì½”ë“œëŠ” ë°”ë€Œê²Œ ëœë‹¤.

## ì¸í„°í˜ì´ìŠ¤ ì ìš©

í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ìˆ˜ì •

```java
public class Customer {
    public static void main(String[] args) {
        Customer customer = new Customer();
        customer.order(new WhiteShipFactory(), "hardy", "test@test.com");
        customer.order(new BlackShipFactory(), "hardy", "test@test.com");
    }

    private void order(ShipFactory shipFactory, String name, String email) {
        shipFactory.orderShip(name, email);
    }
}
```

ìë°” 8ë²„ì „ì¸ ê²½ìš°

- ì¸í„°í˜ì´ìŠ¤ì•ˆì— private ë©”ì„œë“œ ì •ì˜ ë¶ˆê°€

```java
public abstract class DefaultShipFactory implements ShipFactory {
    @Override
    public void sendEmailTo(String email, Ship ship) {
        System.out.println(ship.getName() + " ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.");
    }
}
```

â†’ ì¤‘ê°„ì— abstract í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ ë‘”ë‹¤.

![Untitled 2](https://user-images.githubusercontent.com/68279162/175785630-583860ed-3013-4efa-a3f1-104e981d3330.png)


ì œí’ˆêµ°ì—ë„ ê³„ì¸µêµ¬ì¡°ê°€ ìˆê³  ë§Œë“œëŠ” ìª½ì—ë„ ê³„ì¸µêµ¬ì¡°ê°€ ìˆì–´ì„œ ê·¸ íŒ©í† ë¦¬ ì•ˆì—ì„œ êµ¬ì²´ì ì¸ íŒ©í† ë¦¬ ì•ˆì—ì„œ êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ê²ƒì´ ì¤‘ìš”í•œ ê²ƒì´ë‹¤.

## ì¥ì ê³¼ ë‹¨ì 

- ì¥ì 
    - ê¸°ì¡´ ì½”ë“œë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³  ê·¸ì™€ ê°™ì€ ì¢…ë¥˜ì˜ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™•ì¥ê°€ëŠ¥í•˜ë‹¤.
    - Creatorì™€ Productê°„ì˜ ëŠìŠ¨í•œ ê²°í•©ì„ í–ˆê¸° ë•Œë¬¸ì´ë‹¤.

- ë‹¨ì 
    - í´ë˜ìŠ¤ê°€ ëŠ˜ì–´ë‚˜ëŠ” ë‹¨ì ì€ í”¼í•  ìˆ˜ ì—†ë‹¤.

## ìë°”ì™€ ìŠ¤í”„ë§ì—ì„œ ì°¾ì•„ë³´ëŠ” íŒ¨í„´

- ë‹¨ìˆœí•œ íŒ©í† ë¦¬ íŒ¨í„´
    - ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì— ë”°ë¼ ë˜ëŠ” ë©”ì†Œë“œì— ë”°ë¼ ê°ê¸° ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¦¬í„´í•˜ëŠ” ë‹¨ìˆœí•œ íŒ©í† ë¦¬ íŒ¨í„´
    - java.lang.Calendar ë˜ëŠ” java.lang.NumberFormat
    
- ìŠ¤í”„ë§ì˜ BeanFactory
    - Object íƒ€ì…ì˜ Productë¥¼ ë§Œë“œëŠ” BeanFactoryë¼ëŠ” Creator!

Reference:
[ì½”ë”©ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” GoFì˜ ë””ìì¸íŒ¨í„´](https://www.inflearn.com/course/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4)