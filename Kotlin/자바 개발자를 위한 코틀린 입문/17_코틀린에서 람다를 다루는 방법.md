# ì½”í‹€ë¦°ì—ì„œ ëŒë‹¤ë¥¼ ë‹¤ë£¨ëŠ” ë°©ë²•

ì¸í”„ëŸ°ì—ì„œ `ìµœíƒœí˜„ ì§€ì‹ ê³µìœ ì`ë‹˜ì˜   
`ìë°” ê°œë°œìë¥¼ ìœ„í•œ ì½”í‹€ë¦° ì…ë¬¸`ì„ ìˆ˜ê°•í•˜ë©°  ì •ë¦¬í•œ ë‚´ìš© ì…ë‹ˆë‹¤.  
í•˜ë‹¨ì— ê°•ì˜ ë§í¬ ìˆìŠµë‹ˆë‹¤.

## ìë°”ì—ì„œ ëŒë‹¤ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ ë…¸ë ¥

ë³µì¡í•œ ì¡°ê±´ì— ë”°ë¼ ìê¾¸ ë©”ì†Œë“œì™€ íŒŒë¼ë¯¸í„° ëŠ˜ë¦¬ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ì–´ë ¤ì›Œì§€ê²Œ ë¨.

â†’ ì¸í„°í˜ì´ìŠ¤ì™€ ìµëª…í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì!

â†’ ì´ë ‡ê²Œ í•´ì„œ ë§ì€ ê²ƒì´ í•´ê²°ë˜ì—ˆì§€ë§Œ ì•„ì‰¬ìš´ì ì´ ìˆë‹¤.

`ìµëª… í´ë˜ìŠ¤` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë³µì¡í•˜ë‹¤.

ì´ëŸ¬í•œ ì–´ë ¤ì›€ì„ í•´ê²°í•˜ê¸° ì´í•´ JDK 8ë¶€í„° ëŒë‹¤ (ì´ë¦„ì´ ì—†ëŠ” í•¨ìˆ˜) ë“±ì¥!

Predicate, Consumer, Function ë“± ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ JDK 8ì—ì„œ ë§Œë“¤ì–´ ë‘ì—ˆìŒ.

ê·¸ë¦¬ê³  ê°„ê²°í•œ ìŠ¤íŠ¸ë¦¼ì´ ë“±ì¥í–ˆë‹¤. (ë³‘ëŸ´ì²˜ë¦¬ì—ë„ ê°•ì ì´ ìƒê¹€)

ë©”ì†Œë“œ ë ˆí¼ëŸ°ìŠ¤: `ë©”ì†Œë“œë¥¼ ë„˜ê¸°ëŠ” ê²ƒ ì²˜ëŸ¼`ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

â†’ ë©”ì†Œë“œë¥¼ ë„˜ê¸°ëŠ” ê²ƒì²˜ëŸ¼ì˜ ì´ìœ  : Javaì—ì„œ í•¨ìˆ˜ëŠ” ë³€ìˆ˜ì— í• ë‹¹ë˜ê±°ë‚˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•  ìˆ˜ ì—†ë‹¤. (2ê¸‰ ì‹œë¯¼)

â†’ ê·¸ëŸ¬ë©´? ë©”ì†Œë“œë¥¼ ë„˜ê¸°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ Predicateì™€ ê°™ì€ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¡œ ì¸í•´ ê°€ëŠ¥í•œ ê²ƒ

## ì½”í‹€ë¦°ì—ì„œì˜ ëŒë‹¤

ìë°”ì™€ëŠ” ê·¼ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ í•œ ê°€ì§€ê°€ ìˆë‹¤.

- ì½”í‹€ë¦°ì—ì„œëŠ” í•¨ìˆ˜ê°€ ê·¸ ìì²´ë¡œ ê°’ì´ ë  ìˆ˜ ìˆë‹¤.
- ë³€ìˆ˜ì— í• ë‹¹í•  ìˆ˜ ìˆë‹¤.
- íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸¸ ìˆ˜ ìˆë‹¤.

ì˜ˆ) ì‚¬ê³¼ì¸ì§€ë¥¼ ì²´í¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²• (ëŒë‹¤ë¥¼ ë§Œë“œëŠ” ë°©ë²•) (1), (2)

```kotlin
fun main() {
    val fruits = listOf(
        Fruit("ì‚¬ê³¼", 1000),
        Fruit("ì‚¬ê³¼", 1200),
        Fruit("ì‚¬ê³¼", 1200),
        Fruit("ì‚¬ê³¼", 1500),
        Fruit("ë°”ë‚˜ë‚˜", 3000),
        Fruit("ë°”ë‚˜ë‚˜", 3200),
        Fruit("ë°”ë‚˜ë‚˜", 2500),
        Fruit("ìˆ˜ë°•", 10000),
    )
    
    val isApple = fun(fruit: Fruit): Boolean { // (1)
        return fruit.name == "ì‚¬ê³¼"
    }
    
    val isApple2 = { fruit: Fruit -> fruit.name == "ì‚¬ê³¼"} // (2)
}
```

(1) ì¼ë°˜ì ì¸ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì¸ë° `í•¨ìˆ˜ì´ë¦„` ì„ í‘œì‹œí•˜ì§€ ì•ŠëŠ”ë‹¤.

(2) ì¤‘ê´„í˜¸ì™€ í™”ì‚´í‘œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

ì˜ˆ) ë¶€ë¥´ëŠ” ë°©ë²•

```kotlin
isApple(fruits[0])
isApple.invoke(fruits[0])
```

ê·¸ë¦¬ê³  í•¨ìˆ˜ë¥¼ í• ë‹¹ì•ˆ ë³€ìˆ˜ì—ë„ íƒ€ì…ì´ ìˆë‹¤.

```kotlin
 val isApple: (Fruit) -> Boolean = fun(fruit: Fruit): Boolean { 
        return fruit.name == "ì‚¬ê³¼"
 }
```

íƒ€ì…ì€ `(Fruit) -> Boolean` ì´ë©°, íŒŒë¼ë¯¸í„°ë¡œ Fruitì„ ë°›ì•„ Booleanì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ë¼ëŠ” ëœ»ì´ ëœë‹¤.

ì¦‰, í•¨ìˆ˜ì˜ íƒ€ì…: `(íŒŒë¼ë¯¸í„° íƒ€ì…â€¦) â†’ ë°˜í™˜íƒ€ì…`

```kotlin
private fun filterFruits(
    fruits: List<Fruit>,
    filter: (Fruit) -> Boolean // (1)
): List<Fruit> {
    val results = mutableListOf<Fruit>()
    for (fruit in fruits) {
        if (filter(fruit)) {
            results.add(fruit)
        }
    }
    return results
}
```

(1) ì½”í‹€ë¦°ì—ì„œëŠ” í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ìˆ˜ ìˆê¸°ë•Œë¬¸ì— `íŒŒë¼ë¯¸í„°: í•¨ìˆ˜ íƒ€ì…` ìœ¼ë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ëª…ì‹œí•´ì„œ í•¨ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.

ì˜ˆ) ì‚¬ìš©í•´ë³´ì

```kotlin
fun main() {
    val fruits = listOf(
        Fruit("ì‚¬ê³¼", 1000),
        Fruit("ì‚¬ê³¼", 1200),
        Fruit("ì‚¬ê³¼", 1200),
        Fruit("ì‚¬ê³¼", 1500),
        Fruit("ë°”ë‚˜ë‚˜", 3000),
        Fruit("ë°”ë‚˜ë‚˜", 3200),
        Fruit("ë°”ë‚˜ë‚˜", 2500),
        Fruit("ìˆ˜ë°•", 10000),
    )
    
    val isApple = {fruit: Fruit -> fruit.name == "ì‚¬ê³¼"} // (1)

    val results = filterFruits(fruits, isApple) // (2)

    results.forEach { 
        println(it.name) // ì‚¬ê³¼ë§Œ ë‚˜ì˜¨ë‹¤.
    }
}
```

(1) (Fruit) â†’ Boolean í•¨ìˆ˜íƒ€ì…ì¸ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤.

(2) ë§Œë“¤ì–´ì¤€ isAppleì´ë¼ëŠ” í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸´ë‹¤.

â†’ ìµëª…í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— ë°”ë¡œ í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë„£ì–´ì¤„ ìˆ˜ë„ ìˆë‹¤.

<aside>
ğŸ’¡ ì½”í‹€ë¦°ì—ì„œëŠ” í•¨ìˆ˜ê°€ 1ê¸‰ ì‹œë¯¼ì´ë‹¤. (ìë°”ì—ì„œëŠ” 2ê¸‰ ì‹œë¯¼)

</aside>

ğŸ¤ Â ë§ˆì§€ë§‰ íŒŒë¼ë¯¸í„°ê°€ í•¨ìˆ˜ì¸ ê²½ìš°, ì†Œê´„í˜¸ ë°–ì— ëŒë‹¤ ì‚¬ìš© ê°€ëŠ¥

ğŸ˜¸Â ëŒë‹¤ë¥¼ ì‘ì„±í• ë•Œ, ëŒë‹¤ì˜ íŒŒë¼ë¯¸í„°ë¥¼ itìœ¼ë¡œ ì§ì ‘ ì°¸ì¡° ê°€ëŠ¥

ğŸ¤ Â ëŒë‹¤ëŠ” ì—¬ëŸ¬ì¤„ ì‘ì„± ê°€ëŠ¥í•œë°, returnì„ ëª…ì‹œí•˜ì§€ ì•Šë”ë¼ë„ ë§ˆì§€ë§‰ ì¤„ì˜ ê²°ê³¼ê°€ ëŒë‹¤ì˜ ë°˜í™˜ê°’ì´ë‹¤!

```kotlin
filterFruits(fruits) {it.name == "ì‚¬ê³¼"}
```

## Closure

ìë°”ì—ì„œ ëŒë‹¤ëŠ” ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ finalì¸ ë³€ìˆ˜ë‚˜ ì‹¤ì§ˆì ìœ¼ë¡œ finalì¸ ë³€ìˆ˜ë§Œ ì‚¬ìš©ê°€ëŠ¥ í–ˆëŠ”ë°

ì½”í‹€ë¦°ì—ì„œëŠ” ì•„ë¬´ ë¬¸ì œì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```kotlin
var targetName = "ì‚¬ê³¼"
targetName = "ìˆ˜ë°•"
filterFruits(fruits) {it.name == targetName}
```

ğŸ§±Â ì´ê²ƒì´ ì–´ë–»ê²Œ ê°€ëŠ¥í• ê¹Œ?

â†’ ì½”í‹€ë¦°ì—ì„œëŠ” ëŒë‹¤ê°€ ì‹œì‘í•˜ëŠ” ì§€ì ì— ì°¸ì¡°í•˜ê³  ìˆëŠ” ë³€ìˆ˜ë“¤ì„ `ëª¨ë‘ í¬íš` í•˜ì—¬ ê·¸ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤.

ì´ë ‡ê²Œ í•´ì•¼ë§Œ, ëŒë‹¤ë¥¼ ì§„ì •í•œ ì¼ê¸‰ ì‹œë¯¼ìœ¼ë¡œ ê°„ì£¼í•  ìˆ˜ ìˆìœ¼ë©° ì´ ë°ì´í„° êµ¬ì¡°ë¥¼ `Closure` ë¼ê³  ë¶€ë¥¸ë‹¤.

`**Closure**`: ëŒë‹¤ê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì— ì“°ê³  ìˆëŠ” ë³€ìˆ˜ë“¤ì„ ëª¨ë‘ í¬íší•œ ë°ì´í„° êµ¬ì¡°

## ë‹¤ì‹œ try with resources

```kotlin
fun readFile(path: String) {
        BufferedReader(FileReader(path)).use { reader -> // (1)
            println(reader.readLine())
        }
    }
```

(1) useë¥¼ ì£¼ëª©

```kotlin
public inline fun <T : Closeable?, R> T.use(block: (T) -> R): R {
```

1. Closeable êµ¬í˜„ì²´ì— ëŒ€í•œ í™•ì¥í•¨ìˆ˜ì´ë‹¤.
2. inline í•¨ìˆ˜ì´ë‹¤.
3. ëŒë‹¤ë¥¼ ë°›ê²Œ ë§Œë“¤ì–´ì§„ í•¨ìˆ˜ì´ë‹¤.

Reference:  
[ìë°” ê°œë°œìë¥¼ ìœ„í•œ ì½”í‹€ë¦° ì…ë¬¸](https://www.inflearn.com/course/java-to-kotlin/dashboard)